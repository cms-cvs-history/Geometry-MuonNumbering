# orig: Michael Case
# desc: Attempt to test Geometry separately from "real" Sim and Reco.

process GeometryTest = {


#  es_source = EmptyESSource {
#    string recordName="MuonNumberingRecord"
#    vuint32 firstValid = { 1 }
#    bool iovIsRunNotTime = false
#  }

# using 2 events just to make sure things work right.
   source = EmptySource
   {
      untracked int32 maxEvents = 3
   }

   module get = EventSetupRecordDataGetter {
      untracked bool verbose=true
      VPSet toGet = {
         { string record = "IdealGeometryRecord"
           vstring data = { "DDCompactView" }
         } ,
         { string record = "MuonNumberingRecord"
           vstring data = { "MuonDDDConstants" }
         }
      }
   }

# Geometry
   include "Geometry/CMSCommonData/data/cmsIdealGeometryDB.cfi"

# only need ONE AsciiOutputModule 
    module print = AsciiOutputModule {}

   module testnum = MuonNumberingTester { }

# MessageLogger
  service = MessageLogger {
    untracked vstring destinations = { "detailedInfo"
                                     , "critical"
                                     , "info"
                                     , "warning"
                                     }
    untracked PSet critical     = { untracked string threshold = "ERROR"   }
    untracked PSet detailedInfo = { untracked string threshold = "INFO"    } 
    untracked PSet warning      = { untracked string threshold = "WARNING" }
  }
    path p1 = { get, testnum } 

    endpath ep = { print }
}
